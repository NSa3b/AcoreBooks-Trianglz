<main class="flex flex-col gap-5">
  <p class="text-3xl font-bold text-stone-600">Books</p>
  <div class="flex justify-between items-center">
    <p-iconField class="xl:w-1/3" iconPosition="right">
      <p-inputIcon styleClass="pi pi-search" />
      <input
        class="md:text-sm text-xs"
        type="text"
        pInputText
        placeholder="Search"
        (input)="onBookSearch($event)"

      />
    </p-iconField>
    <a
      routerLink="/addBook"
      class="bg-blue-800 py-2.5 px-5 text-white font-semibold rounded-xl w-fit md:text-sm text-xs"
    >
      <i class="pi pi-plus md:text-sm text-xs"></i>
      Add Book
    </a>
  </div>
  <div class="card rounded-2xl overflow-hidden">
    <p-table
      #bookTable
      [value]="filteredBooks"
      [tableStyle]="{ 'min-width': '50rem' }"
      [paginator]="true"
      [rows]="5"
      [globalFilterFields]="['title', 'author']"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Book Title</th>
          <th>Book Category</th>
          <th>Book Author</th>
          <th>Book ISBN</th>
          <th>Book Version</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-book>
        <tr>
          <td>{{ book.title }}</td>
          <td>{{ book.category.name }}</td>
          <td>{{ book.author }}</td>
          <td>{{ book.ISBN }}</td>
          <td>{{ book.version }}</td>
          <td>
            <div class="flex gap-4">
              <a [routerLink]="['/bookDetails', book.id]"
                ><span class="pi pi-eye text-blue-800"></span
              ></a>
              <a [routerLink]="['/editBook', book.id]"
                ><span class="pi pi-pencil text-green-800"></span
              ></a>
              <button
                (click)="Delete($event, book.id)"
                label="Delete"
                severity="danger"
              >
                <i class="pi pi-trash text-red-800"></i>
              </button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</main>
<p-confirmDialog />
